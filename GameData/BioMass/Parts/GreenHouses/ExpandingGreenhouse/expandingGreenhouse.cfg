// Kerbal Space Program - Part Config
// made By Roboto
//

PART{

	// --- general parameters ---
	name = BioMass_Expanding_Greenhouse
	module = Part
	author = Roboto
	
	// --- asset parameters ---
	mesh = expandingGreenhouse.mu

	// --- node definitions ---

  
  //node_stack_front = -1.0, 0, 0, 0, 0, 1, 1
  //node_stack_back = 1.0, 0, 0, 0, 0, -1, 1

  //node_stack_right = 1.0, 0, 0, -1, 0, 0, 1
  //node_stack_left = -1.0, 0, 0, 1, 0, 0, 1

  node_stack_top = -0.04, 2.3, 0.0, 0.0, 1.0, 0.0, 2
  node_stack_bottom = -0.04, -2.3, 0, 0, -1.0, 0.0, 2
	
  node_attach = 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1

	// --- editor parameters ---
    TechRequired = advElectrics
    entryCost = 12200
	cost = 3800
	
  category = Science
	subcategory = 0
	title = Greenhouse: Expand-o-matic 
	manufacturer = DG Aero-Space Renewables
	description = DG Aero-Space hired a dozens of theoretical physicists to try and find a way to get more space into their greenhouses. There was initially great excitement about saying water was 1 unit per liter, but it just led to confusion. In end the manager for the project saw a parachute deploy and resolved to fire the physicists and hire seamstresses. The final design is a greenhouse that triples the interior growing area when the "wings" are deployed.

	// attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision
	attachRules = 1,1,1,1,0

	// --- standard part parameters ---
	mass = 7
	dragModelType = default
	maximum_drag = 0.2
	minimum_drag = 0.3
	angularDrag = 2
	crashTolerance = 6
	maxTemp = 2900
	fuelCrossFeed = True
//Onboard modules

MODULE
  {
     name = AnimatedGenerator
     ConverterName = Artificial Lighting
     AnimationName = GreenhouseLights
     FillAmount = 0.95
     AlwaysActive = false
     StartActionName = Lights On
     StopActionName = Lights Off
     AutoShutdown = true
     GeneratesHeat = true
     UseSpecialistBonus = true
    SpecialistEfficiencyFactor = 0.2
    SpecialistBonusBase = 0.05
    Specialty = Engineer
    EfficiencyBonus = 1
     
     INPUT_RESOURCE
     {
      ResourceName = ElectricCharge
      Ratio = 0.5
     }
    
     OUTPUT_RESOURCE
     {
      ResourceName = Light
      Ratio = 0.5
      DumpExcess = true
     }
  }


MODULE{
		name = NaturalLightSource
		animationName = Deploy
		animSwitch = true
		sunTracking = true
		raycastTransformName = glass
		pivotName =  glass
		isBreakable = false
		resourceName = Light
		chargeRate = 1.0
		powerCurve
	 	{
			key = 206000000000 0 0 0
			key = 13599840256 1 0 0
			key = 68773560320 0.5 0 0
			key = 0 0 0 0
	 	}
	}
  MODULE
  {
    name = ModuleGenerator
    isAlwaysActive = true
    INPUT_RESOURCE
    {
      name = Light
      rate = 0.1
    }
  }
MODULE
  {
     name = BiologicalProcess
     ConverterName = Photosynthesis
     FillAmount = 0.95
     AlwaysActive = true
     AutoShutdown = true
     GeneratesHeat = false
     UseSpecialistBonus = true
     SpecialistEfficiencyFactor = 0.2
    SpecialistBonusBase = 0.05
    Specialty = Bioloist
    EfficiencyBonus = 1
 
     
     INPUT_RESOURCE
     {
      ResourceName = ElectricCharge
      Ratio = 0.5
     }
     INPUT_RESOURCE
     {
      ResourceName = Light
      Ratio = 0.01
     }
     INPUT_RESOURCE
     {
      ResourceName = Nutrients
      Ratio = 0.001
     }
     INPUT_RESOURCE
     {
      ResourceName = CarbonDioxide
      Ratio = 0.00001
     }

     OUTPUT_RESOURCE
     {
      ResourceName = Water
      Ratio = 0.001 
      DumpExcess = false
     }
      OUTPUT_RESOURCE
     {
      ResourceName = BioMass
      Ratio = 0.000000001
      DumpExcess = false
     }
      OUTPUT_RESOURCE
     {
      ResourceName = Oxygen
      Ratio = 0.00008
      DumpExcess = false
     }

  }

  RESOURCE{
    name = Light
    amount = 0.0
    maxAmount = 1
  }
  RESOURCE
  {
    name = Oxygen
    amount = 0.0
    maxAmount = 404.4817 //L
  }
  RESOURCE
  {
    name = CarbonDioxide
    amount = 0.0
    maxAmount = 554.2897//L
  }
  RESOURCE
  {
    name = Seeds
    amount = 0.2
    maxAmount = 8.7762 //L
  }
  RESOURCE
  {
    name = BioMass
    amount = 0
    maxAmount = 7.8431 //L
  }
  RESOURCE
  {
    name = Water
    amount = 0.0
    maxAmount = 0.4458 //L
  }
  RESOURCE
  {
    name = BioCake
    amount = 0
    maxAmount = 1.575 //L
  }
    RESOURCE
  {
    name = WasteWater
    amount = 0
    maxAmount = 0.2222 //L
  }
}
