// Kerbal Space Program - Part Config
// made By Roboto
//

PART{

	// --- general parameters ---
	name = BioMass_Grey_Greenhouse
	module = Part
	author = Roboto
	scale = 1.0
    
	
	// --- asset parameters ---
	mesh = greyGreenhouse.mu

	// --- node definitions ---
	node_stack_top = 0.0, 1.65, 0.0, 0.0, 1.0, 0.0, 1
	node_stack_bottom = 0.0, -1.59, 0.0, 0.0, -1.0, 0.0, 1
	node_attach = 1.25, 0.0, 0.0, 1.0, 0.0, 0.0, 1

	rescaleFactor = 0.5


	// --- editor parameters ---
	TechRequired = largeElectrics
	entryCost = 800
	cost = 800
	category = Utility
	subcategory = 0

	title = Greenhouse: Experimental

	manufacturer = DG Aero-Space Renewables
	description = How well would plants grow in space? Who knows! To try and find out the KSC authorized the construction of a simple greenhouse module. Good luck, astroplants!

	// attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision
	attachRules = 1,1,1,1,0

	// --- standard part parameters ---
	mass = 1.25
	dragModelType = default
	maximum_drag = 0.2
	minimum_drag = 0.3
	angularDrag = 2
	crashTolerance = 6
	maxTemp = 2900
	fuelCrossFeed = True

	//Onboard modules

	//Shutters
	MODULE{
		name = NaturalLightSource
		animationName = door
		animSwitch = True
		sunTracking = true
		raycastTransformName = glass
		pivotName =  glass
		isBreakable = false
		resourceName = Light
		chargeRate = 1.0
		powerCurve
	 	{
			key = 206000000000 0 0 0
			key = 13599840256 1 0 0
			key = 68773560320 0.5 0 0
			key = 0 0 0 0
	 	}
	}
	//NO ARTIFICIAL LIGHT

	//ALWAYS CONSUME LIGHT TO YOU DON"T END UP "STORING" IT
	MODULE{
		name = ModuleGenerator
		isAlwaysActive = false
		INPUT_RESOURCE{
		  name = Light
		  rate = 0.9
		}
	}

	//NO GERMINATION MODULE ON THIS PART

	//SIMULATE SPOILAGE
	MODULE
	{
		 name = BiologicalProcess
		 tag = CropSpoilage
		 ConverterName = Crop Spoilage
		 FillAmount = 1.0
		 AlwaysActive = false
		 AutoShutdown = true
		 GeneratesHeat = false		 
		 INPUT_RESOURCE
		 {
			ResourceName = BioMass 
			Ratio = 1.0
		 }
		 OUTPUT_RESOURCE
		 {
			ResourceName = Waste 
			Ratio = 1.0
			DumpExcess = false
		 }

	}

	//RESPIRATION
	MODULE
  	{
	    name = BiologicalProcess
	    tag = Respiration
	    ConverterName = Respiration
	    FillAmount = 1.0
	    AlwaysActive = false
	    AutoShutdown = true
	    GeneratesHeat = false
		INPUT_RESOURCE
		{
			ResourceName = BioMass
			Ratio = 0.00000007
		}
		INPUT_RESOURCE
		{
			ResourceName = Oxygen
			Ratio = 0.00019007
		}
		OUTPUT_RESOURCE
		{
			ResourceName = CarbonDioxide
			Ratio = 0.00019007
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Water
			Ratio = 0.00000015
			DumpExcess = false
		}
  	}

	//PHOTOSYNTHESIS
	MODULE
  	{
	    name = BiologicalProcess
	    tag = Photosynthesis
	    ConverterName = Photosynthesis
	    FillAmount = 1.0
	    AlwaysActive = false
	    AutoShutdown = true
	    GeneratesHeat = false
	    UseSpecialistBonus = true
	    SpecialistEfficiencyFactor = 0.2
	    SpecialistBonusBase = 0.05
	    Specialty = Bioloist
	    EfficiencyBonus = 1 
		INPUT_RESOURCE
		{
			ResourceName = Light
			Ratio = 0.01
		}
		INPUT_RESOURCE
		{
			ResourceName = BioMass
			Ratio = 0.00000027
		}
		INPUT_RESOURCE
		{
			ResourceName = CarbonDioxide
			Ratio = 0.00076029
		}
		INPUT_RESOURCE
		{
			ResourceName = Water
			Ratio = 0.00000061
		}
		OUTPUT_RESOURCE
		{
			ResourceName = BioMass
			Ratio = 0.00000053
			DumpExcess = false
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Oxygen
			Ratio = 0.00076029
			DumpExcess = false
		}
  	}

	//PHOTOSYNTHESIS WITH WASTEWATER
	MODULE
  	{
	    name = BiologicalProcess
	    tag = PhotosynthesisWithWasteWater
	    ConverterName = PhotosynthesisWithWasteWater
	    FillAmount = 1.0
	    AlwaysActive = false
	    AutoShutdown = true
	    GeneratesHeat = false
	    UseSpecialistBonus = true
	    SpecialistEfficiencyFactor = 0.2
	    SpecialistBonusBase = 0.05
	    Specialty = Bioloist
	    EfficiencyBonus = 1 
		INPUT_RESOURCE
		{
			ResourceName = Light
			Ratio = 0.01
		}
		INPUT_RESOURCE
		{
			ResourceName = BioMass
			Ratio = 0.00000027
		}
		INPUT_RESOURCE
		{
			ResourceName = CarbonDioxide
			Ratio = 0.00076029
		}
		INPUT_RESOURCE
		{
			ResourceName = WasteWater
			Ratio = 0.00000106
		}
		OUTPUT_RESOURCE
		{
			ResourceName = BioMass
			Ratio = 0.00000065
			DumpExcess = false
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Oxygen
			Ratio = 0.00076029
			DumpExcess = false
		}
  	}
 	//REPRODUCTION
	MODULE
  	{
	    name = BiologicalProcess
	    tag = Reproduction
	    ConverterName = Reproduction
	    FillAmount = 1.0
	    AlwaysActive = false
	    AutoShutdown = true
	    GeneratesHeat = false
	    UseSpecialistBonus = true
	    SpecialistEfficiencyFactor = 0.2
	    SpecialistBonusBase = 0.05
	    Specialty = Bioloist
	    EfficiencyBonus = 1 
		INPUT_RESOURCE
		{
			ResourceName = BioMass
			Ratio = 1.8
		}
		OUTPUT_RESOURCE
		{
			ResourceName = BioMass
			Ratio = 1.8
			DumpExcess = false
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Seeds
			Ratio = 0.00002618
			DumpExcess = false
		}
  	}

	//-----------onboard resources-------------//
	RESOURCE{
		name = Light
		amount = 0.0
		maxAmount = 1
	}
	RESOURCE{
		name = BioMass
		amount = 0.1
		maxAmount = 0.522875817
	}
	RESOURCE{
		name = Waste
		amount = 0.0
		maxAmount = 0.522875817
	}
	RESOURCE{
		name = Oxygen
		amount = 0
		maxAmount = 101.120425
	}
	RESOURCE{
		name = CarbonDioxide
		amount = 0
		maxAmount = 138.572425
	}
}

